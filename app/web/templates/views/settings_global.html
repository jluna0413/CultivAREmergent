<!DOCTYPE html>
<html lang=\ en\>
<head>
    <meta charset=\UTF-8\>
    <meta name=\viewport\ content=\width=device-width initial-scale=1.0\>
    <meta name=\description\ content=\CultivAR - Self-Hosted Cannabis Grow Journal\>
    <meta name=\theme-color\ content=\#1a1a1a\>
    <title>Settings - CultivAR</title>
    <!-- CSS Dependencies -->
    <link rel=\stylesheet\ href=\../../static/css/bootstrap.min.css\>
    <link rel=\stylesheet\ href=\../../static/css/all.min.css\>
    <link rel=\stylesheet\ href=\https://fonts.googleapis.com/icon?family=Material+Icons\>
    <link rel=\stylesheet\ href=\../../static/css/style.css\>
    <!-- Settings-specific CSS -->
    <link rel=\stylesheet\ href=\../../static/css/settings.css\>
</head>
<body class=\dark-theme\>
    <div class=\app-container\>
        <div class=\sidebar-overlay\></div>
        <aside class=\sidebar\>
            <!-- Sidebar Header -->
            <div class=\sidebar-header\>
                <div class=\logo\>
                    <a href=\#\>
                        <i class=\material-icons logo-icon\>eco</i>
                        <span class=\logo-text\>CultivAR</span>
                    </a>
                </div>
                <button class=\sidebar-close\ id=\sidebar-close\>
                    <i class=\fas fa-times\></i>
                </button>
            </div>

            <!-- Sidebar Content -->
            <div class=\sidebar-content\>
                <nav class=\sidebar-nav\>
                    <ul class=\sidebar-menu\>
                        <li class=\menu-item\>
                            <a href=\#\ class=\menu-link\>
                                <i class=\menu-icon fas fa-tachometer-alt\></i>
                                <span class=\menu-text\>Dashboard</span>
                            </a>
                        </li>
                        <li class=\menu-item\>
                            <a href=\#\ class=\menu-link\>
                                <i class=\menu-icon fas fa-seedling\></i>
                                <span class=\menu-text\>Plants</span>
                            </a>
                        </li>
                        <li class=\menu-item\>
                            <a href=\#\ class=\menu-link\>
                                <i class=\menu-icon fas fa-dna\></i>
                                <span class=\menu-text\>Collection</span>
                            </a>
                        </li>
                        <li class=\menu-item\>
                            <a href=\#\ class=\menu-link submenu-toggle\ data-toggle=\collapse\ data-target=\#marketSubmenu\ aria-expanded=\false\>
                                <i class=\menu-icon fas fa-store\></i>
                                <span class=\menu-text\>Market</span>
                                <i class=\fas fa-chevron-down submenu-indicator\></i>
                            </a>
                            <ul class=\collapse submenu\ id=\marketSubmenu\>
                                <li class=\submenu-item\>
                                    <a href=\#\ class=\submenu-link\>
                                        <i class=\submenu-icon fas fa-seedling\></i>
                                        <span class=\submenu-text\>Seed Bank</span>
                                    </a>
                                </li>
                                <li class=\submenu-item\>
                                    <a href=\#\ class=\submenu-link\>
                                        <i class=\submenu-icon fas fa-puzzle-piece\></i>
                                        <span class=\submenu-text\>Extensions</span>
                                    </a>
                                </li>
                                <li class=\submenu-item\>
                                    <a href=\#\ class=\submenu-link\>
                                        <i class=\submenu-icon fas fa-tools\></i>
                                        <span class=\submenu-text\>Gear</span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class=\menu-item\>
                            <a href=\#\ class=\menu-link\>
                                <i class=\menu-icon fas fa-thermometer-half\></i>
                                <span class=\menu-text\>Sensors</span>
                            </a>
                        </li>
                        <li class=\menu-item active\>
                            <a href=\#\ class=\menu-link\>
                                <i class=\menu-icon fas fa-cog\></i>
                                <span class=\menu-text\>Settings</span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>

            <!-- Sidebar Footer -->
            <div class=\sidebar-footer\>
                <div class=\version-info\>
                    <span class=\version-text\>Version: 1.0.0</span>
                </div>
            </div>
        </aside>

        <!-- Fixed hamburger menu button for mobile -->
        <button class=\hamburger-menu\ id=\hamburger-menu\>
            <i class=\fas fa-bars\></i>
        </button>

        <main class=\main-content\>
            <header class=\content-header\>
                <div class=\header-left\>
                    <button class=\menu-toggle\ id=\menu-toggle\>
                        <i class=\fas fa-bars\></i>
                    </button>
                    <h1 class=\page-title\>Settings</h1>
                </div>
                <div class=\header-right\>
                    <div class=\user-menu dropdown\>
                        <button class=\btn dropdown-toggle\ type=\button\ id=\userMenuDropdown\ data-toggle=\dropdown\ aria-expanded=\false\>
                            <i class=\fas fa-user-circle\></i>
                            <span class=\username\>User</span>
                        </button>
                        <div class=\dropdown-menu dropdown-menu-right\ aria-labelledby=\userMenuDropdown\>
                            <a class=\dropdown-item\ href=\#\>
                                <i class=\fas fa-cog\></i> Settings
                            </a>
                            <div class=\dropdown-divider\></div>
                            <a class=\dropdown-item\ href=\#\>
                                <i class=\fas fa-sign-out-alt\></i> Logout
                            </a>
                        </div>
                    </div>
                </div>
            </header>
            <div class=\ content-body\>
                <!-- Settings Content -->
                <div class=\settings-container\>
                    <div class=\row\>
                        <div class=\col-md-3\>
                            <div class=\settings-nav\>
                                <div class=\list-group\ id=\settings-tabs\ role=\tablist\>
                                    <a class=\list-group-item list-group-item-action active\ id=\general-tab\ data-toggle=\list\ href=\#general\ role=\tab\ aria-controls=\general\>
                                        <i class=\fas fa-cog\></i> General
                                    </a>
                                    <a class=\list-group-item list-group-item-action\ id=\users-tab\ data-toggle=\list\ href=\#users\ role=\tab\ aria-controls=\users\>
                                        <i class=\fas fa-users\></i> Users
                                    </a>
                                    <a class=\list-group-item list-group-item-action\ id=\sensors-tab\ data-toggle=\list\ href=\#sensors\ role=\tab\ aria-controls=\sensors\>
                                        <i class=\fas fa-thermometer-half\></i> Sensors
                                    </a>
                                    <a class=\list-group-item list-group-item-action\ id=\backup-tab\ data-toggle=\list\ href=\#backup\ role=\tab\ aria-controls=\backup\>
                                        <i class=\fas fa-database\></i> Backup & Restore
                                    </a>
                                    <a class=\list-group-item list-group-item-action\ id=\report-issue-tab\ data-toggle=\list\ href=\#report-issue\ role=\tab\ aria-controls=\report-issue\>
                                        <i class=\fas fa-exclamation-triangle\></i> Report Issue
                                    </a>
                                    <a class=\list-group-item list-group-item-action\ id=\about-tab\ data-toggle=\list\ href=\#about\ role=\tab\ aria-controls=\about\>
                                        <i class=\fas fa-info-circle\></i> About
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class=\col-md-9\>
                            <div class=\tab-content\ id=\settings-tabContent\>
                                <!-- General Settings Tab -->
                                <div class=\tab-pane fade show active\ id=\general\ role=\tabpanel\ aria-labelledby=\general-tab\>
                                    <div class=\settings-card\>
                                        <div class=\settings-card-header\>
                                            <h4>General Settings</h4>
                                        </div>
                                        <div class=\settings-card-body\>
                                            <form id=\general-settings-form\>
                                                <div class=\settings-section\>
                                                    <h5 class=\settings-section-title\>Appearance Settings</h5>
                                                    <div class=\form-group\>
                                                        <div class=\custom-control custom-switch\>
                                                            <input type=\checkbox\ class=\custom-control-input\ id=\dark-theme\ name=\dark_theme\ checked>
                                                            <label class=\custom-control-label\ for=\dark-theme\>Dark Theme</label>
                                                        </div>
                                                        <small class=\form-text text-muted\>Use dark theme for better visibility in low-light environments.</small>
                                                    </div>
                                                </div>

                                                <div class=\settings-section\>
                                                    <h5 class=\settings-section-title\>Regional Settings</h5>
                                                    <div class=\form-group\>
                                                        <label for=\timezone\>Timezone</label>
                                                        <select class=\form-control\ id=\timezone\ name=\timezone\>
                                                            <option value=\UTC\ selected>UTC</option>
                                                            <option value=\America/New_York\>Eastern Time (US & Canada)</option>
                                                            <option value=\America/Chicago\>Central Time (US & Canada)</option>
                                                            <option value=\America/Denver\>Mountain Time (US & Canada)</option>
                                                            <option value=\America/Los_Angeles\>Pacific Time (US & Canada)</option>
                                                            <option value=\Europe/London\>London</option>
                                                            <option value=\Europe/Paris\>Paris</option>
                                                            <option value=\Asia/Tokyo\>Tokyo</option>
                                                            <option value=\Australia/Sydney\>Sydney</option>
                                                        </select>
                                                    </div>
                                                    <div class=\form-group\>
                                                        <label for=\date-format\>Date Format</label>
                                                        <select class=\form-control\ id=\date-format\ name=\date_format\>
                                                            <option value=\MM/DD/YYYY\ selected>MM/DD/YYYY</option>
                                                            <option value=\DD/MM/YYYY\>DD/MM/YYYY</option>
                                                            <option value=\YYYY-MM-DD\>YYYY-MM-DD</option>
                                                        </select>
                                                    </div>
                                                    <div class=\form-group\>
                                                        <label for=\temperature-unit\>Temperature Unit</label>
                                                        <select class=\form-control\ id=\temperature-unit\ name=\temperature_unit\>
                                                            <option value=\C\ selected>Celsius (°C)</option>
                                                            <option value=\F\>Fahrenheit (°F)</option>
                                                        </select>
                                                    </div>
                                                </div>

                                                <div class=\settings-section\>
                                                    <h5 class=\settings-section-title\>Notification Settings</h5>
                                                    <div class=\form-group\>
                                                        <div class=\custom-control custom-switch\>
                                                            <input type=\checkbox\ class=\custom-control-input\ id=\enable-notifications\ name=\enable_notifications\ checked>
                                                            <label class=\custom-control-label\ for=\enable-notifications\>Enable Notifications</label>
                                                        </div>
                                                        <small class=\form-text text-muted\>Receive notifications for important events.</small>
                                                    </div>
                                                    <div class=\form-group\>
                                                        <div class=\custom-control custom-switch\>
                                                            <input type=\checkbox\ class=\custom-control-input\ id=\enable-email\ name=\enable_email\ checked>
                                                            <label class=\custom-control-label\ for=\enable-email\>Enable Email Notifications</label>
                                                        </div>
                                                        <small class=\form-text text-muted\>Receive notifications via email.</small>
                                                    </div>
                                                    <div class=\form-group\>
                                                        <label for=\email-address\>Email Address</label>
                                                        <input type=\email\ class=\form-control\ id=\email-address\ name=\email_address\ value=\\>
                                                    </div>
                                                </div>

                                                <div class=\form-group text-right\>
                                                    <button type=\button\ class=\btn btn-primary\ id=\save-general-settings\>Save Settings</button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>

                                <!-- Sensors Tab -->
                                <div class=\tab-pane fade\ id=\sensors\ role=\tabpanel\ aria-labelledby=\sensors-tab\>
                                    <div class=\settings-card\>
                                        <div class=\settings-card-header\>
                                            <h4>Sensor Settings</h4>
                                        </div>
                                        <div class=\settings-card-body\>
                                            <div class=\settings-section\>
                                                <h5 class=\settings-section-title\>Connected Sensors</h5>
                                                <div class=\table-responsive\>
                                                    <table class=\table table-hover\>
                                                        <thead>
                                                            <tr>
                                                                <th>Name</th>
                                                                <th>Type</th>
                                                                <th>Location</th>
                                                                <th>Status</th>
                                                                <th>Last Reading</th>
                                                                <th>Actions</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>Main Temp Sensor</td>
                                                                <td>Temperature</td>
                                                                <td>Grow Room</td>
                                                                <td><span class=\badge badge-success\>Active</span></td>
                                                                <td>24.5°C (5 mins ago)</td>
                                                                <td>
                                                                    <button class=\btn btn-sm btn-primary sensor-edit\><i class=\fas fa-edit\></i></button>
                                                                    <button class=\btn btn-sm btn-danger sensor-delete\><i class=\fas fa-trash\></i></button>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>Humidity Monitor</td>
                                                                <td>Humidity</td>
                                                                <td>Grow Room</td>
                                                                <td><span class=\badge badge-success\>Active</span></td>
                                                                <td>55% (5 mins ago)</td>
                                                                <td>
                                                                    <button class=\btn btn-sm btn-primary sensor-edit\><i class=\fas fa-edit\></i></button>
                                                                    <button class=\btn btn-sm btn-danger sensor-delete\><i class=\fas fa-trash\></i></button>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>Soil Moisture</td>
                                                                <td>Moisture</td>
                                                                <td>Plant #3</td>
                                                                <td><span class=\badge badge-warning\>Low Battery</span></td>
                                                                <td>42% (30 mins ago)</td>
                                                                <td>
                                                                    <button class=\btn btn-sm btn-primary sensor-edit\><i class=\fas fa-edit\></i></button>
                                                                    <button class=\btn btn-sm btn-danger sensor-delete\><i class=\fas fa-trash\></i></button>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>CO2 Monitor</td>
                                                                <td>CO2</td>
                                                                <td>Grow Room</td>
                                                                <td><span class=\badge badge-danger\>Offline</span></td>
                                                                <td>800ppm (2 days ago)</td>
                                                                <td>
                                                                    <button class=\btn btn-sm btn-primary sensor-edit\><i class=\fas fa-edit\></i></button>
                                                                    <button class=\btn btn-sm btn-danger sensor-delete\><i class=\fas fa-trash\></i></button>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                                <div class=\mt-3\>
                                                    <button class=\btn btn-success\ id=\add-sensor\>
                                                        <i class=\fas fa-plus\></i> Add New Sensor
                                                    </button>
                                                </div>
                                            </div>
                                            <!-- Alert Thresholds Section -->
                                            <div class=\ settings-section\>
                                                <h5 class=\settings-section-title\>Alert Thresholds</h5>
                                                <form id=\alert-thresholds-form\>
                                                    <!-- Temperature Alerts -->
                                                    <div class=\form-group\>
                                                        <label>Temperature Alerts</label>
                                                        <div class=\row\>
                                                            <div class=\col-md-6\>
                                                                <div class=\input-group mb-3\>
                                                                    <div class=\input-group-prepend\>
                                                                        <span class=\input-group-text\>Min</span>
                                                                    </div>
                                                                    <input type=\number\ class=\form-control\ id=\temp-min\ value=\18\ step=\0.5\>
                                                                    <div class=\input-group-append\>
                                                                        <span class=\input-group-text\>°C</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class=\col-md-6\>
                                                                <div class=\input-group mb-3\>
                                                                    <div class=\input-group-prepend\>
                                                                        <span class=\input-group-text\>Max</span>
                                                                    </div>
                                                                    <input type=\number\ class=\form-control\ id=\temp-max\ value=\30\ step=\0.5\>
                                                                    <div class=\input-group-append\>
                                                                        <span class=\input-group-text\>°C</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                    <!-- Humidity Alerts -->
                                                    <div class=\form-group\>
                                                        <label>Humidity Alerts</label>
                                                        <div class=\row\>
                                                            <div class=\col-md-6\>
                                                                <div class=\input-group mb-3\>
                                                                    <div class=\input-group-prepend\>
                                                                        <span class=\input-group-text\>Min</span>
                                                                    </div>
                                                                    <input type=\number\ class=\form-control\ id=\humidity-min\ value=\40\ step=\1\>
                                                                    <div class=\input-group-append\>
                                                                        <span class=\input-group-text\>%</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class=\col-md-6\>
                                                                <div class=\input-group mb-3\>
                                                                    <div class=\input-group-prepend\>
                                                                        <span class=\input-group-text\>Max</span>
                                                                    </div>
                                                                    <input type=\number\ class=\form-control\ id=\humidity-max\ value=\70\ step=\1\>
                                                                    <div class=\input-group-append\>
                                                                        <span class=\input-group-text\>%</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                    <div class=\form-group\>
                                                        <div class=\custom-control custom-switch\>
                                                            <input type=\checkbox\ class=\custom-control-input\ id=\enable-sensor-alerts\ checked>
                                                            <label class=\custom-control-label\ for=\enable-sensor-alerts\>Enable Sensor Alerts</label>
                                                        </div>
                                                        <small class=\form-text text-muted\>Receive notifications when sensor readings exceed thresholds.</small>
                                                    </div>
                                                    
                                                    <div class=\form-group text-right\>
                                                        <button type=\button\ class=\btn btn-primary\ id=\save-sensor-settings\>Save Settings</button>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Users Tab (Placeholder) -->
                                <div class=\tab-pane fade\ id=\users\ role=\tabpanel\ aria-labelledby=\users-tab\>
                                    <div class=\settings-card\>
                                        <div class=\settings-card-header\>
                                            <h4>User Management</h4>
                                        </div>
                                        <div class=\settings-card-body\>
                                            <p>User management settings will be displayed here.</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Backup Tab (Placeholder) -->
                                <div class=\tab-pane fade\ id=\backup\ role=\tabpanel\ aria-labelledby=\backup-tab\>
                                    <div class=\settings-card\>
                                        <div class=\settings-card-header\>
                                            <h4>Backup & Restore</h4>
                                        </div>
                                        <div class=\settings-card-body\>
                                            <p>Backup and restore settings will be displayed here.</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Report Issue Tab (Placeholder) -->
                                <div class=\tab-pane fade\ id=\report-issue\ role=\tabpanel\ aria-labelledby=\report-issue-tab\>
                                    <div class=\settings-card\>
                                        <div class=\settings-card-header\>
                                            <h4>Report an Issue</h4>
                                        </div>
                                        <div class=\settings-card-body\>
                                            <p>Issue reporting form will be displayed here.</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- About Tab (Placeholder) -->
                                <div class=\tab-pane fade\ id=\about\ role=\tabpanel\ aria-labelledby=\about-tab\>
                                    <div class=\settings-card\>
                                        <div class=\settings-card-header\>
                                            <h4>About CultivAR</h4>
                                        </div>
                                        <div class=\settings-card-body\>
                                            <p>CultivAR is a self-hosted cannabis grow journal application.</p>
                                            <p>Version: 1.0.0</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- JavaScript Dependencies -->
    <script src=\../../static/js/jquery.min.js\></script>
    <script src=\../../static/js/bootstrap.bundle.min.js\></script>
    <script src=\../../static/js/chart.min.js\></script>
    <script src=\../../static/js/main.js\></script>
    <script src=\../../static/js/settings.js\></script>
</body>
</html>
